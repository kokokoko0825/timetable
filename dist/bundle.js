document.getElementById("timetableForm").addEventListener("submit",(function(t){t.preventDefault();const r=document.getElementById("startTime").value,e=parseInt(document.getElementById("band").value),d=parseInt(document.getElementById("rehatime").value),a=parseInt(document.getElementById("rehachangetime").value),n=parseInt(document.getElementById("befor_open").value),S=parseInt(document.getElementById("after_open").value),o=parseInt(document.getElementById("bandtime").value),i=parseInt(document.getElementById("changetime").value),[p,g]=r.split(":").map(Number);document.getElementById("preview").innerHTML=function(t,r,e,d,a,n,S,o,i){let p="<table border='1'><tr><th>時間</th><th>内容</th></tr>";if(0!=d||0!=a){p+=`<tr><td>${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}</td><td>リハ START</td></tr>`;for(let n=e;n>0;n--){const e=t,S=r;if((r+=d)>=60&&(t+=1,r-=60),p+=`<tr><td>${e.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")} ~ ${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}</td><td><input type="text" value="バンド${n} リハ"></td></tr>`,1!=n){const e=t,d=r;(r+=a)>=60&&(t+=1,r-=60),0!=a&&(p+=`<tr><td>${e.toString().padStart(2,"0")}:${d.toString().padStart(2,"0")} ~ ${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}</td><td>転換</td></tr>`)}else p+=`<tr><td>${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}</td><td>リハ終了</td></tr>`}}(r+=n)>=60&&(t+=1,r-=60),0!=n&&(p+=`<tr><td>${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")} ~ </td><td>OPEN</td></tr>`),(r+=S)>=60&&(t+=1,r-=60),p+=`<tr><td>${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}</td><td>ライブ START</td></tr>`;for(let d=0;d<e;d++){const e=t,a=r;(r+=o)>=60&&(t+=1,r-=60),p+=`<tr><td>${e.toString().padStart(2,"0")}:${a.toString().padStart(2,"0")} ~ ${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}</td><td><input type="text" value="バンド${d+1}"></td></tr>`;const n=t,S=r;(r+=i)>=60&&(t+=1,r-=60),0!=i&&(p+=`<tr><td>${n.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")} ~ ${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}</td><td>転換</td></tr>`)}return p+=`<tr><td>${t.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}</td><td>完パケ</td></tr>`,p+="</table>",p}(p,g,e,d,a,n,S,o,i)}));